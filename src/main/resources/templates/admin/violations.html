<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
    <title>Violations</title>
</head>
<body>
<section layout:fragment="content">
    <h2>Reported Violations</h2>
    <form th:action="@{/admin/violations/add}" method="post">
        <input type="text" name="description" placeholder="Description" required class="form-control mb-2"/>
        <input type="text" name="reportedBy" placeholder="Reported By" required class="form-control mb-2"/>
        <button class="btn btn-warning">Report</button>
    </form>
    <table class="table mt-4">
        <thead>
        <tr><th>ID</th><th>Description</th><th>By</th><th>Date</th></tr>
        </thead>
        <tbody>
        <tr th:each="v : ${violations}">
            <td th:text="${v.id}"></td>
            <td th:text="${v.description}"></td>
            <td th:text="${v.reportedBy}"></td>
            <td th:text="${v.reportedAt != null} ? ${#temporals.format(v.reportedAt, 'yyyy-MM-dd HH:mm')} : 'N/A'"></td>

        </tr>
        </tbody>
    </table>
</section>
</body>
</html>
